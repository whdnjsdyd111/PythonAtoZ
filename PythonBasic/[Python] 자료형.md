[Python] 자료형
==============
# 파이썬이란

파이썬은 다음과 같은 특징을 가지고 있다.

**단순, 오픈 소스, 이식성, 객체 지향 언어, 확장성,**

# 기초 자료형

## 숫자형

숫자형에는 정수, 소수형 숫자가 존재한다.

파이썬에서는 long 형은 따로 없으며 int 형에 어떤 크기의 정수든 모두 담을 수 있다.

```python
a = 1 # 정수형
a = 1.2 # 실수형
a = 4.24E10 # 지수 표현 방식
a = 0o177 # 8진수 (Octal)
a = 0x8ff # 16진수 (Hexadecimal)
```

## 연산자

파이썬에서 사칙연산은 다음과 같다.

```python
>>> a = 3
>>> b = 4
>>> a + b
7
>>> a * b
12
>>> a / b
0.75
>>> a % b
3
```

`**` 연산자는 `x ** y` 와 같이 사용하며, 이는 x 의 y제곱 값을 돌려준다.

```python
>>> a = 3
>>> b = 4
>>> a ** b
81
```

이전 사칙연산에서 `/` 는 `3 / 4` 의 값이 0.75로 된다.
`//` 을 이용하면 정수에 해당되는 값을 돌려줄 수 있다.

```python
>>> a = 3
>>> b = 4
0
```

## 문자열

파이썬에서는 큰 따옴표 또는 작은 따옴표로 문자열을 지정할 수 있다.
그리고 한번 만든 문자열은 더이상 변경할 수 없다.

작은 따옴표, 모든 공백문자를 포함
큰 따옴표, 작은 따옴표를 문자열로 포함 가능

```python
'''first line.
second line
hi "python"
```

위와 같이 작은(또는 큰) 따옴표 세 개를 사용하면 작거나 큰 따옴표를 마음대로 사용할 수 있다.

파이썬에서는 문자열 곱하기를 응용하여 반복되는 문자열을 제어할 수 있다.

```python
>>> print("o" * 3)
ooo
```

len 함수를 이용하면 문자열을 길이를 구할 수 있다.

```python
>>> a = "hi"
>>> len(a)
2
```

### 문자열 인덱싱과 슬라이싱

문자열은 인덱싱으로 배열로 접근할 수 있다.

```python
>>> a = "python"
>>> a[0]
p
>>> a[-0] # - 를 붙이면 뒤에서 부터
n
```

배열 인덱스에 `0:3` 과 같은 형태로 0부터 3번까지 읽도록 지정(슬라이싱)할 수 있다.
형태는 a[시작번호 : 끝 번호] 이지만 끝 번호는 포함되지 않는다.

```python
>>> a = "python"
>>> a[0:3]
pyt
>>> a[1:] # 끝 번호 생략 시 끝까지 읽음
ython
>>> a[:3] # 시작 번호 생략 시 처음부터 읽음
pyt
>>> a[:]  # 시작과 끝을 생략하면 처음부터 끝까지 읽음
python
>>> a[0:-1] # - 기호로 뒤에서 몇 번째로 지정 가능
pytho
```

인덱싱하여 접근하지만 앞서 말했듯, 문자열은 변경할 수 없다.

```python
# Pithon 을 Python 으로 변경하기
>>> a = "Pithon"
>>> a[1] = 'y' # 에러 발생
TypeError: 'str' object does not support item assignment

>>> a[:1] + 'y' + a[2:]
Python
```

### 문자열 포맷팅

문자열 포맷팅은 문자열 안의 특정 값만 동적으로 변경하는 기법

1. 대입

```python
>>> a = "%d lines."
>>> a % 5
5 lines.

>>> b = 4
>>> a % b # 변수 대입 가능
4 lines.

>> a = "%s, %d lines."
>> b = "first"; c = 4
>> a % (b, c) # 2 개 이상은 괄호안에 콤마로 구분하여 대입
first, 4 lines.

>> a = "Error is %d%%" % 98 # % 문자열 사용시 '%%' 를 사용
Error is 98%
```

숫자를 넣고 싶은 자리에 `%d` 를 넣어, 해당 자리에 숫자를 넣는다.
`%d` 와 같은 것을 문자열 포맷 코드라 부른다.

2. 문자열 포맷 코드

코드|설명|
---|---|
%s|문자열(string)|
%c|문자 1개(character)|
%d|정수(Integer)|
%f|부동소수(floating-point)|
%o|8진수|
%x|16진수|
%%|리터럴 %|

3. `format` 함수 사용

format 함수로 더 발전된 스타일로 문자열 포맷을 지정할 수 있다.

```python
>>> "{0} lines".format(2) # 숫자 대입
3 lines.

>>> "{0} lines.".format("first") # 문자 대입
first lines.

>>> num = 3
>>> "{0} lines".format(num) # 변수 대입
3 lines.

>>> num = 3
>>> week = "two"
>>> "{0} week, {1} lines".format(week, num) # 두 개 이상 값 대입
two week, 3 lines.

>>> "{week} week, {num} lines".format(week="three", num=4) # 이름으로 값 대입
three week, 4 lines.

>>> "{0:<10}".format("hi") # 왼쪽부터 정렬하여 10자리를 마저 맞춤
'hi        '

>>> "{0:=<10}".format("hi") # 왼쪽부터 '=' 으로 10자리를 마저 채움
'hi========'

>>> "{0:0.4f}".format(3.123123123) # 소수점 4자리까지만 표현
3.1231

>>> "{{ hi }}".format() # 중괄호({}) 를 그대로 사용하고 싶을 경우 2개 연속 사용
{ hi }
```

4. f 문자열 포매팅

파이썬 3.6버전부터 f 문자열 포매팅 기능이 사용 가능하다.

다음과 같이 문자열 앞에 f 접두사로 사용한다.

```python
>>> name = '홍길동'
>>> age = 25
>>> f'내 이름은 {name} 입니다. 나이는 {age}입니다.'
내 이름은 홍길동입니다. 나이는 25입니다.

>>> f'나이는 {age+4}입니다.' # 수식을 통한 표현식 가능
나이는 29입니다.
```

#### 문자열 관련 

1. 문자열 세기 `count`

```python
>>> a = "hi"
>>> a.count('h')
1
```

2. 위치 찾기 `find`

```python
>>> a = "hi"
>>> a.count('h')
0

>>> a.count('s')
-1
```

3. 위치 찾기 `index`

```python
>>> a = "hi"
>>> a.count('i')
1

>>> a.count('x') # 해당하는 인덱스가 존재하지 않으면 오류 발생
ValueError: substring not found 
```

4. 문자열 삽입 `join`

```python
>>> ",".join('abcd')
a,b,c,d
```

5. 소문자 대문자 변경

```python
>>> a = 'hi'
>>> a.upper()
HI
>>> a = 'HI'
>>> a.lower()
hi
```

6. 공백 제거

```python
>>> a = ' hi '
>>> a.lstrip() # 왼쪼 공백제거
'hi '
>>> a.rstrip() # 오른쪽 공백 제거
' hi'
>>> a.strip() # 양쪽 공백 제거
'hi'
```

7. 문자열 변경 `replace`

```python
>>> a = 'hellow'
>>> a.replace('l', 'x')
hexxow
```

8. 문자열 나누기 `split`

```python
>>> a = 'abcd'
>>> a.split()
['a', 'b', 'c', 'd']
>>> b = 'a,b,c,d'
>>> b.split(',')
['a', 'b', 'c', 'd']
```

# 리스트

리스트는 숫자, 문자열 등 자료형들의 집합이다.
`[]` 대괄호로 감싸 주고 각 요소값은 쉼표로 구분한다.

```python
>>> add = [1, 3, 5, 7, 9]
>>> str = [1, 2, 'Life', 'is'] # 어떠한 자료형도 포함 가능
>>> lil = [1, 2, [1, 2, 3]] # 리스트 자체를 요소로 포함 가능
>>> a = list() # 비어 있는 리스트
```

## 리스트 인덱싱과 슬라이싱

리스트의 인덱싱은 다음과 같다.

```python
>>> a = [1,2,3]
>>> a
[1, 2, 3]

>>> a[0] # 배열의 첫 번째 요소
1

>>> a[-1] # 배열의 마지막 요소
3
```

이번에는 리스트 안에 리스트를 포함하도록 해보자.

```python
>>> a = [1, 2, 3, ['a', 'b', 'c']]

>>> a[0]
1
>>> a[3]
['a', 'b', 'c']

>>> a[-1][0] # 리스트 a 에 포함된 ['a','b','c'] 의 첫 번째 요소
a
```

문자열과 같이 리스트에도 슬라이싱 기법을 사용할 수 있다.

```python
>>> a = [1, 2, 3, 4, 5]
>>> a[0:2]
[1, 2]
>>> a[:2]
[1, 2]
>>> a[:]
[1, 2, 3, 4, 5]
```

## 리스트 연산

문자열을 `"abc" + "def" = "abcdef"` 가 되는 것과 같은 이치로 다음과 같이 리스트를 합칠 수 있다.

```python
>>> a = [1, 2, 3]
>>> b = [4, 5, 6]
>>> a + b
[1, 2, 3, 4, 5, 6]
```

다음은 리스트에 곱하기 연산을 했을 때이다.
이 또한 `"abc" * 2 = "abcabc"` 와 같은 이치이다.

```python
>>> a = [1, 2, 3]
>>> a * 2
[1, 2, 3, 1, 2, 3]
```

다음은 문자열과 정수 배열을 더하였을 때 결과이다.

```python
>>> a = [1, 2, 3]
>>> a[2] + "hi" # 타입 오류 발생
TypeError: unsupported operand type(s) for +: 'int' and 'str'

>>> str(a[2]) + "hi" # 이와 같이 형 변환을 해주어야 함
3hi
```

## 리스트 관련 함수

1. 요소 삭제 `del`

```python
>>> a = [1, 2, 3]
>>> del a[1]
>>> a
[1, 3]
```

`del a[x]` 를 통해 x 번째 요솟값을 삭제한다.
del 함수는 `del 객체` 와 같이 사용하면 된다.

다음과 같이 슬라이싱 기법으로 여러 개를 한꺼번에 삭제할 수 있다.

```python
>>> a = [1, 2, 3, 4, 5]
>>> del a[2:]
>>> a
[1, 2]
```

2. 요소 추가 `append`

`append(x)` 를 통해 맨 마지막에 x 를 추가할 수 있다.

```python
>>> a = [1, 2, 3]
>>> a.append(4)
>>> a
[1, 2, 3, 4]

>>> a.append([5, 6]) # 어떠한 자료형도 추가 가능
>>> a
[1, 2, 3, 4, [5, 6]]
```

3. 리스트 정렬 `sort`

`sort` 함수는 리스트 요소를 순서대로 정렬해준다.

```python
>>> a = [1, 4, 3, 2]
>>> a.sort() #
>>> a
[1, 2, 3, 4]
>>> a = ['a', 'c', 'b']
>>> a.sort()
>>> a
['a', 'b', 'c']
```

4. 리스트 뒤집기 `reverse`

`reverse` 함수는 리스트를 역순으로 뒤집어 준다.
역순 정렬이 아니라 있는 그대로 거꾸로 뒤집는다.

```python
>>> a = ['a', 'c', 'b']
>>> a.reverse()
>>> a
['b', 'c', 'a']
```

5. 위치 반환 `index`

`index(x)` 함수는 리스트에 x 값이 있으면 그 위치 값을 돌려준다.

```python
>>> a = [3, 2, 1]
>>> a.index(3)
0
>>> a.index(1)
2
>>> a.index(0) # 0 은 리스트에 존재하지 않아 값 오류가 발생
ValueError: 0 is not in list
```

6. 요소 삽입 `insert`

`insert(a, b)` 는 a 번째 위치에 b 를 삽입하는 함수다.

```python
>>> a = [1, 2, 3]
>>> a.insert(0, 4)
>>> a
[4, 1, 2, 3]
```

7. 요소 제거 `remove`

`remove(x)` 는 리스트에서 첫 번째로 나오는 x 를 삭제하는 함수다.

```python
>>> a = [1, 2, 3, 1, 2, 3]
>>> a.remove(3)
>>> a
[1, 2, 1, 2, 3]
```

8. 요소 꺼내기 `pop`

`pop()` 은 리스트 맨 끝의 요소를 돌려주고 그 요소를 리스트에서 삭제한다.
`pop(x)` 은 리스트의 x 번째 요소를 돌려주고 그 요소를 삭제한다.

```python
>>> a = [1, 2, 3]
>>> a.pop()
3
>>> a
[1, 2]

>>> a.pop(0)
1
>>> a
[2]
```

9. 요소 개수 세기 `count`

`count(x)` 는 x 요소가 몇 개 있는지 개수를 돌려주는 함수이다.

```python
>>> a = [1, 2, 3, 1]
>>> a.count(1)
2
```

10. 리스트 확장 `extend`

`extend(x)` 에서 x 에는 리스트만 올 수 있으며, x 리스트를 더한다.

```python
>>> a = [1, 2, 3]
>>> a.extend([4, 5])
>>> a
[1, 2, 3, 4, 5]
```

`a.extend([4, 5])` 는 `a += [4, 5]` 와 동일하다.

# 튜플

튜플(tuple)은 몇 가지 제외하고 리스트와 비슷하다.

- 리스트는 `[]` 튜플은 `()` 으로 둘러싼다.
- 리스트는 값 생성, 삭제, 수정이 가능하지만 튜플은 수정할 수 없다.

튜플의 모습은 다음과 같다.

```python
>>> t1 = ()
>>> t2 = (1,)
>>> t3 = (1, 2, 3)
>>> t4 = 1, 2, 3
>>> t5 = ('a', 'b', ('ab', 'cd'))
```

`t2 = (1,)` 와 같이 1개의 요소만 가질때도 콤마를 반드시 붙여야 한다.
그리고 `t4 = 1, 2, 3` 처럼 괄호를 생략해도 무방하다.

튜플과 리스트는 크게 값을 변화시킬 수 있는가 여부로 결정하여 사용한다.

## 튜플의 요소를 삭제 및 변경 시도 할 시

앞서 설명했듯, 튜플의 요소값은 한 번 정하면 지우거나 변경할 수 없다.

```python
>>> t1 = (1, 2, 3)
>>> del t[0]
TypeError: 'tuple' object doesn't support item deletion

>>> t1[0] = 0
TypeError: 'tuple' object does not support item assignment
```

## 튜플 다루기

1. 튜플 더하기

```python
>>> t1 = (1, 2, 3)
>>> t2 = (3, 4)
>>> t1 + t2
(1, 2, 3, 4, 5)
```

2. 튜플 곱하기

```python
>>> t1 = (1, 2)
>>> t1 * 2
(1, 2, 1, 2)
```

3. 튜플 길이 구하기

```python
>>> t1 = (1, 2, 3)
>>> len(t1)
3
```

# 딕셔너리

딕셔너리는 '이름 = 홍길동, 생월 = 6월' 등의 대응 관계를 나타내는 자료형이다.
이는 Key 와 Value 로 한 쌍을 갖는다.

기본적인 모습은 다음과 같다.

```
{Key1:Value1, Key2:Value2, ...}
```

Key 와 Value 의 쌍 여러 개가 `{}` 로 둘러싸여 있다.
그리고 각 키밸류는 쉼표로 구분되어 있다.
Key 에는 변하지 않는 값을, Value 에는 변하거나 변하지 않는 값 모두 사용 가능하다.

```python
>>> dic = {'name':'pay', 'phone':'01099998888', 'birth':'1118'}
```

위와 같은 딕셔너리가 있다면 정보는 아래와 같이 담겨져 있을 것이다.

Key|Value|
---|---|
name|pey|
phone|01099998888|
birth|1118|

## 딕셔너리 다루기

1. 키밸류 추가

다음과 같이 딕셔너리에 쌍을 추가할 수 있다.

```python
>>> a = {1: 'a'}

>>> a[2] = 'b'
>>> a
{1: 'a', 2: 'b'}

>>> a['name'] = 'pey'
>>> a
{1: 'a', 2: 'b', 'name': 'pey'}

>>> a[3] = [1, 2, 3]
{1: 'a', 2: 'b', 'name': 'pey', 3: [1, 2, 3]}
```

2. 키밸류 삭제

다음과 같이 딕셔너리 요소를 삭제할 수 있다.

```python
>>> a = {1: 'a', 2: 'b', 'name': 'pey', 3: [1, 2, 3]}
>>> del a[1]
>>> a
{2: 'b', 'name': 'pey', 3: [1, 2, 3]}
```

`a[key]` 와 같이 입력하면 지정한 key 에 해당하는 `{key:value}` 쌍이 삭제된다.

3. 밸류 얻기

다음 예제와 같이 밸류값을 얻을 수 있다.

```python
>>> grade = {'pey': 10, 'julliet': 99}
>>> grade['pey']
10
>>> grade['julliet']
99

>>> a = {1: 'a', 2: 'b'}
>>> a[1] # 인덱싱이 아닌 키값으로 찾음
a
```

3. 주의사항

```python
>>> a = {1: 'a', 1: 'b'}
>>> a # 앞의 "1: 'b'" 는 무시된다.
{1: 'b'}

>>> a = {[1, 2]: 'hi'} # 키값이 변할 수 있는 리스트는 불가능. 튜플은 가능
TypeError: unhashable type: 'list'
```

## 딕셔너리 관련 함수

1. Key 리스트 생성 `keys`

```python
>>> a = {'name': 'pey', 'phone': '0119993323', 'birth': '1118'}
>>> a.keys()
dict_keys(['name', 'phone', 'birth'])
```

`a.keys()` 는 딕셔너리 a 의 Key 만 모아 `dict_keys` 객체를 돌려준다.
dict_keys 는 다음과 같이 사용할 수 있으며, `append`, `insert`, `pop`, `sort` 함수는 수행할 수 없다.

```python
>>> for k in a.keys():
...    print(k)
...
name
phone
birth
```

dict_keys 객체를 리스트로 변환하기 위해 다음과 같이 하면 된다.

```python
>>> list(a.keys())
['name', 'phone', 'birth']
```

2. Value 리스트 생성 `values`

```python
>>> a = {'name': 'pey', 'phone': '0119993323', 'birth': '1118'}
>>> a.values()
dict_keys(['pey', '0119993323', '1118'])
```

Key 얻는 것과 마찬가지 방법으로 Value 만 얻고 싶다면 `values` 함수로 `dict_value` 객체를 얻을 수 있다.

3. Key, Value 쌍 얻기 `items`

```python
>>> a.items()
dict_items([('name', 'pey'), ('phone', '0119993323'), ('birth', '1118')])
```

`items` 함수는 Key 와 Value 쌍을 튜플로 묶어 dict_items 객체로 돌려준다.

4. 키밸류 쌍 모두 지우기 `clear`

```python
>>> a.clear()
>>> a
{}
```

`clear` 함수는 딕셔너리의 모든 요소를 삭제한다.

5. Key 로 Value 얻기 `get`

```python
>>> a = {'name':'pey', 'phone':'0119993323', 'birth': '1118'}
>>> a.get('name')
pey
>>> a.get('phone')
0119993323
```

`get(x)` 함수는 x 라는 Key 에 대응하는 Value 를 돌려준다.
앞서 봤듯이, `a.get(name)` 은 `a['name']` 와 동일한 결과값을 받는다.

다만 `a['nokey']` 와 같이 존재하지 않는 키로 찾을 경우 Key 오류를 발생시키고,
`a.get('nokey')` 는 `None` 을 돌려준다는 차이가 있다.
이는 다른 언어의 `Null` 또는 `Nil` 에 대응된다.

```python
>>> a = {'name':'pey', 'phone':'0119993323', 'birth': '1118'}
>>> print(a.get('nokey'))
None
```

딕셔너리 안에 찾으려는 Key 값이 없을 경우 미리 정해둔 디폴트 값을 대신 가져오고 싶을 때는
`get(x, '디폴트값')` 을 사용하면 편리하다.

```python
>>> a.get('foo', 'bar')
bar
```

6. Key 존재하는지 조사 `in`

```python
>>> a = {'name':'pey', 'phone':'0119993323', 'birth': '1118'}
>>> 'name' in a
True
>>> 'email' in a
False
```

`'값' in a` 를 통해 a 딕셔너리에 해당 값이 있는지 판별하여 반환한다.

# 집합

집합(set)은 파이썬 2, 3 부터 지원하기 시작한 자료형으로, 집합에 관련된 것을 쉽게 처리하기 위한 자료형이다.

`set` 키워드를 통해 만들 수 있다.

```python
>>> s1 = set([1,2,3])
>>> s1
{1, 2, 3}

>>> s = set() # 비어있는 집합 자료형
```

`set()` 은 리스트를 입력하거나 다음과 같이 문자열을 입력하여 만들 수도 있다.

```python
>>> s2 = set("Hello")
>>> s2
{'e', 'H', 'l', 'o'}
```

위 결과를 보면 `set("Hello")` 였지만 결과는 `l` 문자가 하나 빠졌으며 순서도 섞여있다.
`set` 에는 다음의 큰 2가지 특징이 있다.

- 중복 허용하지 않음
- 순서 존재하지 않음

리스트나 튜플은 순서가 있어 인덱싱이 가능하지만 `set` 은 순서가 없어 인덱싱이 불가능하다.
인덱싱이 안되는 부분에서 딕셔너리와 비슷하다.

만약 `set` 에 인덱싱 접근을 시도하려면 다음과 같이 리스트나 튜플로 변환 후 사용해야 한다.

```python
>>> s1 = set([1,2,3])
>>> l1 = list(s1)
>>> l1
[1, 2, 3]
>>> l1[0]
1
>>> t1 = tuple(s1)
>>> t1
(1, 2, 3)
>>> t1[0]
1
```

## 교집합, 합집합, 차집합

우선 다음과 같이 2 개의 `set` 이 있다고 하자.

```python
>>> s1 = set([1, 2, 3, 4, 5, 6])
>>> s2 = set([4, 5, 6, 7, 8, 9])
```

1. 교집합

`&` 기호를 통해 교집합을 구할 수 있다.
또는 `intersection` 함수를 사용해도 된다.

```python
>>> s1 & s2
{4, 5, 6}
>>> s1.intersection(s2)
{4, 5, 6}
```

2. 합집합

`|` 기호를 통해 합집합을 구할 수 있다.
또는 `union` 함수를 사용해도 된다.

```python
>>> s1 | s2
{1, 2, 3, 4, 5, 6, 7, 8, 9}
>>> s1.union(s2)
{1, 2, 3, 4, 5, 6, 7, 8, 9}
```

3. 차집합

`-` 기호를 통해 차집합을 구할 수 있다.
또는 `difference` 함수를 사용해도 된다.

```python
>>> s1 - s2
{1, 2, 3}
>>> s1.difference(s2)
{1, 2, 3}
```

## 집합 관련 함수

1. 값 1개 추가 `add`

만들어진 set 자료형에 값을 1개 추가할 수 있다.

```python
>>> s1 = set([1, 2, 3])
>>> s1.add(4)
>>> s1
{1, 2, 3, 4}
```

2. 여러 값 추가 `update`

여러 개의 값을 한꺼번에 추가할 때는 다음과 같이한다.

```python
>>> s1 = set([1, 2, 3])
>>> s1.update([4, 5, 6])
>>> s1
{1, 2, 3, 4, 5, 6}
```

3. 특정 값 제거 `remove`

```python
>>> s1 = set([1, 2, 3])
>>> s1.remove(2)
>>> s1
{1, 3}
```
